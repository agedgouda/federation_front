import{j as V,r as p,k as B,l as D,n as g,p as z,b as n,c as w,w as a,d as e,q as k,h as t,t as s,g as m,s as c,F as $,v as N,x as v,o as E,y as S,z as H,a as O,_ as T,e as W,f as F,A as q,i as I,B as K,C as P}from"./index-adc1e29f.js";import{_ as A}from"./TableFormat-4dfb079f.js";const L=V("ship",()=>{const r=p([]);async function _(o){try{return(await B.get("http://127.0.0.1:8000/api/ships/class/faction/"+o)).data.data}catch(l){throw new Error(l.message)}}async function f(o){try{return(await B.get("http://127.0.0.1:8000/api/ships/class/"+o)).data.data}catch(l){throw new Error(l.message)}}return{ships:r,getFactionClasses:_,getClassShips:f}}),G=["src"],J={class:"space-y-3 text-center md:text-left lg:mx-12"},Q={class:"flex justify-center md:block"},U={class:"text-2xl"},X={__name:"FactionCard",props:{faction:{type:Object,required:!0}},setup(r){const _=r,f=D();g(()=>f.userName),p(!1);const o=p(_.faction);return z(()=>_.faction,l=>{o.value=l}),(l,b)=>(n(),w(m,null,{default:a(()=>[e(k,{type:"justify-around lg:justify-center"},{default:a(()=>[t("img",{src:o.value.logo_url,width:"100"},null,8,G),t("div",J,[t("div",Q,[t("h1",U,[t("b",null,s(o.value.name),1)])])])]),_:1})]),_:1}))}},Y={class:"flex flex-wrap"},Z=t("div",{class:"w-2 bg-green-500 h-3 m-1"},null,-1),tt={class:"w-full","m-1":"",key:"linebreak"},lt={class:"w-full","m-1":"",key:"linebreak"},et={class:"w-full","m-1":"",key:"linebreak"},u={__name:"Boxes",props:{total:Number},setup(r){return(_,f)=>(n(),c("div",Y,[(n(!0),c($,null,N(r.total,o=>(n(),c($,{key:o},[Z,o%5===0&&r.total%5===0?(n(),c("div",tt)):v("",!0),o%4===0&&r.total%4===0&&r.total%5!==0?(n(),c("div",lt)):v("",!0),o%3===0&&r.total%3===0&&r.total%5!==0&&r.total%4!==0?(n(),c("div",et)):v("",!0)],64))),128))]))}},st={class:"text-center space-y-1 md:text-left md:mr-6"},at={class:"text-xl"},nt={class:"italic"},ot={key:0},ut={key:1},ct={class:"grid grid-cols-3 lg:grid-cols-3 gap-6 mb-6"},rt={class:"flex flex-col justify-between"},it=t("h4",{class:"text-xl"},"Movement",-1),dt=t("thead",null,[t("tr",null,[t("th",null,"Base Speed"),t("th",null,"Mode"),t("th",null,"Cost")])],-1),_t=t("td",null,"8",-1),ht=t("td",null,"16",-1),mt=t("td",null,"24",-1),pt=t("h4",{class:"text-xl"},"Defenses",-1),ft=t("thead",null,[t("tr",null,[t("th",null,"Location"),t("th",null,"Size")])],-1),vt=t("td",null,"Shield 1",-1),bt=t("td",null,"Shield 2",-1),yt=t("td",null,"Shield 3",-1),gt=t("td",null,"Forward Hull",-1),wt=t("td",null,"Rear Hull",-1),xt={key:0},St=t("td",null,"Rear Hull",-1),kt={key:1},$t=t("td",null,"Rear Hull",-1),Ct={class:"flex flex-col justify-between"},jt=t("h4",{class:"text-xl"},"Ship Compartments",-1),Bt=t("thead",null,[t("tr",null,[t("th",null,"Name"),t("th",null,"Size")])],-1),Ft=t("td",null,"Auxiliary Control",-1),Dt=t("td",null,"Bridge",-1),Nt=t("td",null,"Emergency Bridge",-1),Et=t("td",null,"Lab",-1),At=t("td",null,"Shuttle Bays",-1),Lt=t("td",null,"Transporter",-1),Rt=t("td",null,"Tractor Beam",-1),Mt=t("td",null,"Reactor",-1),Vt=t("td",null,"Impulse Engine",-1),zt=t("td",null,"Battery",-1),Ht=t("td",null,"Right Warp",-1),Ot=t("td",null,"Left Warp",-1),Tt={key:0},Wt=t("td",null,"Center Warp",-1),qt={class:"flex flex-col justify-between"},It=t("h4",{class:"text-xl"},"Weapons",-1),Kt=t("thead",null,[t("tr",null,[t("th",null,"Location"),t("th",null,"Arc"),t("th",null,"Name")])],-1),Pt={class:"grid grid-cols-2 lg:grid-cols-2 gap-6 mb-6"},Gt={class:"flex flex-col justify-between"},Jt=["src"],Qt={class:"flex flex-col justify-between"},Ut={key:0},Xt={key:1},Yt={"data-label":"image",class:"w-20"},Zt=["src"],tl={__name:"CardBoxShip",props:{ship:{type:Object,required:!0}},setup(r){const _=r,f=L(),o=p([]),l=p(_.ship),b=p(_.ship.id);E(async()=>{try{o.value=await f.getClassShips(b.value)}catch(i){throw console.error(i),new Error(i.message)}});const C=g(()=>o.value.map(i=>({ship_counter_url:i.ship_counter_url,name:i.name+" "+i.registry,id:i.id})));return(i,y)=>(n(),w(m,{class:"mb-6 last:mb-0"},{default:a(()=>[e(k,null,{default:a(()=>[e(k,{type:"justify-start"},{default:a(()=>[t("div",st,[t("h4",at,[S(s(l.value.faction_identifier)+" "+s(l.value.name)+" ",1),t("span",nt,s(l.value.registry),1)]),t("h3",null,[S(s(l.value.ship_class)+" ",1),l.value.ship_class=="Lead ship"?(n(),c("span",ot,"of class")):(n(),c("span",ut,"class"))]),t("div",null,s(l.value.type),1),t("div",null,"Ship Power: "+s(l.value.power),1),t("div",ct,[t("div",rt,[e(m,{class:"mb-2"},{default:a(()=>[it,t("h1",null,"Turn Mode: "+s(l.value.turn_mode),1),t("h1",null,"Acceleration Cost: "+s(l.value.acceleration_cost),1),t("h1",null,"Deceleration Cost: "+s(l.value.deceleration_cost),1),t("table",null,[dt,t("tbody",null,[t("tr",null,[_t,t("td",null,s(l.value.base_8_turn_mode),1),t("td",null,s(l.value.base_8_turn_cost),1)]),t("tr",null,[ht,t("td",null,s(l.value.base_16_turn_mode),1),t("td",null,s(l.value.base_16_turn_cost),1)]),t("tr",null,[mt,t("td",null,s(l.value.base_24_turn_mode),1),t("td",null,s(l.value.base_24_turn_cost),1)])])])]),_:1}),e(m,{class:"mb-2"},{default:a(()=>[pt,t("table",null,[ft,t("tbody",null,[t("tr",null,[vt,t("td",null,[e(u,{total:l.value.shield_1},null,8,["total"])])]),t("tr",null,[bt,t("td",null,[e(u,{total:l.value.shield_2},null,8,["total"])])]),t("tr",null,[yt,t("td",null,[e(u,{total:l.value.shield_3},null,8,["total"])])]),t("tr",null,[gt,t("td",null,[e(u,{total:l.value.f_hull},null,8,["total"])])]),t("tr",null,[wt,t("td",null,[e(u,{total:l.value.r_hull},null,8,["total"])])]),l.value.c_hull>0?(n(),c("tr",xt,[St,t("td",null,s(l.value.c_hull),1)])):v("",!0),l.value.l_hull>0?(n(),c("tr",kt,[$t,t("td",null,s(l.value.l_hull),1)])):v("",!0)])])]),_:1})]),t("div",Ct,[e(m,{class:"mb-2 last:mb-3"},{default:a(()=>[jt,t("table",null,[Bt,t("tbody",null,[t("tr",null,[Ft,t("td",null,[e(u,{total:l.value.aux},null,8,["total"])])]),t("tr",null,[Dt,t("td",null,[e(u,{total:l.value.bridge},null,8,["total"])])]),t("tr",null,[Nt,t("td",null,[e(u,{total:l.value.emergency_bridge},null,8,["total"])])]),t("tr",null,[Et,t("td",null,[e(u,{total:l.value.lab},null,8,["total"])])]),t("tr",null,[At,t("td",null,[e(u,{total:l.value.shuttle_bays},null,8,["total"])])]),t("tr",null,[Lt,t("td",null,[e(u,{total:l.value.transporter},null,8,["total"])])]),t("tr",null,[Rt,t("td",null,[e(u,{total:l.value.tractor_beam},null,8,["total"])])]),t("tr",null,[Mt,t("td",null,[e(u,{total:l.value.power_reactor},null,8,["total"])])]),t("tr",null,[Vt,t("td",null,[e(u,{total:l.value.impulse},null,8,["total"])])]),t("tr",null,[zt,t("td",null,[e(u,{total:l.value.battery},null,8,["total"])])]),t("tr",null,[Ht,t("td",null,[e(u,{total:l.value.r_warp},null,8,["total"])])]),t("tr",null,[Ot,t("td",null,[e(u,{total:l.value.l_warp},null,8,["total"])])]),l.value.c_warp>0?(n(),c("tr",Tt,[Wt,t("td",null,[e(u,{total:l.value.c_warp},null,8,["total"])])])):v("",!0)])])]),_:1})]),t("div",qt,[e(m,{class:"mb-2"},{default:a(()=>[It,t("table",null,[Kt,t("tbody",null,[(n(!0),c($,null,N(l.value.weapons,d=>(n(),c("tr",null,[t("td",null,s(d.location),1),t("td",null,s(d.arc),1),t("td",null,s(d.name),1)]))),256))])])]),_:1})])]),t("div",Pt,[t("div",Gt,[e(m,{class:"mb-2"},{default:a(()=>[t("img",{src:l.value.ship_image_url,style:{"background-color":"white"}},null,8,Jt)]),_:1})]),t("div",Qt,[e(m,{class:"mb-2"},{default:a(()=>[(l.value.id=b.value)?(n(),c("span",Ut,s(l.value.name),1)):(n(),c("span",Xt,"Other "+s(l.value.ship_class),1)),S(" Class Ships "),e(A,{"table-data":C.value},{"column-ship_counter_url":a(({item:d})=>[t("td",Yt,[t("img",{src:d,style:{"background-color":"white"}},null,8,Zt)])]),"column-name":a(({item:d})=>[t("td",null,s(d),1)]),_:1},8,["table-data"])]),_:1})])])])]),_:1})]),_:1})]),_:1}))}},ll={"data-label":"image",class:"w-20"},el=["src"],nl={__name:"FactionView",setup(r){const _=H(),o=g(()=>_.path.replace("/factions/","")).value;D();const l=O(),b=L(),i=p({id:"",logo_url:"",name:""}),y=p({}),d=p([]);E(async()=>{try{i.value=await l.getFaction(o),d.value=await b.getFactionClasses(o)}catch(h){throw console.error(h),new Error(h.message)}});const R=g(()=>d.value.map(h=>({ship_counter_url:h.ship_counter_url,name:h.name,id:h.id}))),M=h=>{y.value=d.value.find(j=>j.id===h)};return(h,j)=>(n(),w(T,null,{default:a(()=>[e(I,null,{default:a(()=>[e(W,{icon:F(K),title:i.value.name,main:""},{default:a(()=>[e(q,{href:"https://twitter.com/jvalenzu?lang=en",target:"_blank",icon:F(P),label:"Dunsel",color:"contrast","rounded-full":"",small:""},null,8,["icon"])]),_:1},8,["icon","title"]),e(X,{class:"mb-6",faction:i.value},null,8,["faction"]),e(m,{class:"mb-6","has-table":""},{default:a(()=>[e(A,{"table-data":R.value,onOnClick:M},{"column-ship_counter_url":a(({item:x})=>[t("td",ll,[t("img",{src:x,style:{"background-color":"white"}},null,8,el)])]),"column-name":a(({item:x})=>[t("td",null,s(x)+" Class",1)]),_:1},8,["table-data"])]),_:1}),y.value.id?(n(),w(tl,{key:0,ship:y.value},null,8,["ship"])):v("",!0)]),_:1})]),_:1}))}};export{nl as default};
