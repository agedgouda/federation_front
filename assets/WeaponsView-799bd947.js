import{j as h,k as w,y as v,r as c,o as C,b as T,c as $,w as n,_ as k,d as t,e as N,f as d,C as S,H as W,g,I as x,A as _,h as i,t as m,J as A,i as R,z as E,K as B,L as U,M,N as D}from"./index-117d70ad.js";import{_ as H}from"./FormCheckRadioGroup-5db085f0.js";import{_ as f}from"./FormField-1208b0af.js";import{_ as j}from"./TableFormat-3eeed0a9.js";const G=h("weapon",()=>{const y=["Direct-Fire","Seeking"];async function l(){try{return(await w.get("http://127.0.0.1:8000/api/weapons")).data}catch(s){throw new Error(s.message)}}async function a(s){try{return(await w.post("http://127.0.0.1:8000/api/ships/",{name:s.name,ship_class_id:s.ship_class_id,registry:s.registry})).data}catch(r){throw new Error(r.message)}}return{weaponTypes:y,getWeapons:l,setWeapon:a}}),L=i("p",null,[E("Lorem ipsum dolor sit amet "),i("b",null,"adipiscing elit")],-1),O={class:"w-40"},z={class:"text-right w-2"},F={class:"text-right w-2"},P={__name:"WeaponsView",setup(y){const l=G(),a=v({id:"",name:"",energyCost:"",armRounds:"",type:l.weaponTypes[0]}),s=c(0),r=c(!1),p=c([]);C(async()=>{try{p.value=await l.getWeapons()}catch(u){throw console.error(u),new Error(u.message)}});const b=()=>{a.weaponType=l.weaponTypes[s.value],console.log(a)},V=u=>{const o=p.value.find(e=>e.id===u);r.value=!0,a.id=o.id,a.name=o.name,a.type=o.type,a.energyCost=o.energy_cost,a.armRounds=o.arm_rounds,console.log(l.weaponTypes),s.value=0,a.type==="Seeking"&&(s.value=1)};return(u,o)=>(T(),$(k,null,{default:n(()=>[t(R,null,{default:n(()=>[t(N,{icon:d(B),title:"Weapons",main:""},{default:n(()=>[t(S,{href:"https://github.com/justboil/admin-one-vue-tailwind",target:"_blank",icon:d(U),label:"Star on GitHub",color:"contrast","rounded-full":"",small:""},null,8,["icon"])]),_:1},8,["icon"]),t(W,{"has-cancel":"",modelValue:r.value,"onUpdate:modelValue":o[4]||(o[4]=e=>r.value=e),title:"Sample modal","button-label":"Save"},{default:n(()=>[L,t(g,{weapon:"",onSubmit:x(b,["prevent"])},{default:n(()=>[t(f,{label:"Weapon Type"},{default:n(()=>[t(H,{modelValue:s.value,"onUpdate:modelValue":o[0]||(o[0]=e=>s.value=e),name:"weaponType",type:"radio",options:d(l).weaponTypes},null,8,["modelValue","options"])]),_:1}),t(f,null,{default:n(()=>[t(_,{modelValue:a.name,"onUpdate:modelValue":o[1]||(o[1]=e=>a.name=e),placeholder:"Name",label:"Name"},null,8,["modelValue"])]),_:1}),t(f,null,{default:n(()=>[t(_,{modelValue:a.energyCost,"onUpdate:modelValue":o[2]||(o[2]=e=>a.energyCost=e),icon:d(M),placeholder:"Energy Cost",label:"Energy Cost"},null,8,["modelValue","icon"]),t(_,{modelValue:a.armRounds,"onUpdate:modelValue":o[3]||(o[3]=e=>a.armRounds=e),icon:d(D),placeholder:"Number of Rounds to Arm",label:"Number of Rounds to Arm"},null,8,["modelValue","icon"])]),_:1})]),_:1},8,["onSubmit"])]),_:1},8,["modelValue"]),t(g,null,{default:n(()=>[t(j,{onOnClick:V,"table-data":p.value,tableHeader:["Type","Name","Energy Cost","Rounds to Arm"]},{"column-type":n(({item:e})=>[i("td",O,m(e),1)]),"column-name":n(({item:e})=>[i("td",null,m(e),1)]),"column-energy_cost":n(({item:e})=>[i("td",z,m(e),1)]),"column-arm_rounds":n(({item:e})=>[i("td",F,m(e),1)]),_:1},8,["table-data"])]),_:1}),t(A)]),_:1})]),_:1}))}};export{P as default};
